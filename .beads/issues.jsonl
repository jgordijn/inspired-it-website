{"id":"ws-02s","title":"Update markdown processing for mermaid blocks","description":"Modify the highlight function in src/utils/blog.ts to detect mermaid code blocks and output them with a special class (mermaid-diagram) instead of applying syntax highlighting. This preserves the raw diagram code for client-side Mermaid rendering.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T10:29:57.287425+01:00","updated_at":"2026-01-03T10:40:21.293882+01:00","closed_at":"2026-01-03T10:40:21.293882+01:00","close_reason":"Implemented markdown processing for mermaid blocks with HTML escaping","dependencies":[{"issue_id":"ws-02s","depends_on_id":"ws-k5p","type":"parent-child","created_at":"2026-01-03T10:31:03.919312+01:00","created_by":"daemon"}]}
{"id":"ws-02s.1","title":"XSS risk: Mermaid content needs HTML escaping","description":"File: src/utils/blog.ts, line 14\n\nThe mermaid content is output without HTML escaping:\n```typescript\nreturn '\u003cpre class=\"mermaid-diagram\"\u003e' + str + '\u003c/pre\u003e';\n```\n\nUnlike the fallback case (lines 24-28) which escapes \u0026\u003c\u003e\" characters, mermaid content is output raw.\n\n**Risk:**\n- HTML special characters in mermaid labels (common in diagrams) will break the HTML structure\n- Example: A--\u003e|\"x \u003c y\"|B would break the \u003cpre\u003e tag\n\n**Fix:**\nEither escape the content like the fallback case, or verify Mermaid.js expects pre-escaped content and update accordingly. The escaping function from lines 25-27 should be extracted and reused.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-03T10:38:38.210508+01:00","updated_at":"2026-01-03T10:39:55.271462+01:00","closed_at":"2026-01-03T10:39:55.271462+01:00","close_reason":"Fixed: Added HTML escaping using escapeHtml helper","dependencies":[{"issue_id":"ws-02s.1","depends_on_id":"ws-02s","type":"parent-child","created_at":"2026-01-03T10:38:38.211265+01:00","created_by":"jgordijn"}]}
{"id":"ws-02s.2","title":"hasMermaidDiagrams function is exported but unused","description":"File: src/utils/blog.ts, lines 255-257\n\nThe hasMermaidDiagrams() function is exported but has no consumers in the codebase.\n\n**Issue:**\nThis suggests incomplete implementation - the function exists to enable conditional Mermaid.js loading, but no page component uses it yet.\n\n**Questions:**\n1. Should the blog post page use this to conditionally load Mermaid.js?\n2. If Mermaid.js is always loaded, this function is unnecessary\n3. If conditionally loaded, need to update [slug].tsx to use this function\n\n**Recommendation:**\nEither integrate this into the page components or remove if not needed. Unused exports create confusion about intended architecture.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T10:38:49.398685+01:00","updated_at":"2026-01-03T10:39:56.679722+01:00","closed_at":"2026-01-03T10:39:56.679722+01:00","close_reason":"By design: Function exported for use by ws-2vm (blog page integration)","dependencies":[{"issue_id":"ws-02s.2","depends_on_id":"ws-02s","type":"parent-child","created_at":"2026-01-03T10:38:49.399454+01:00","created_by":"jgordijn"}]}
{"id":"ws-02s.3","title":"Extract HTML escaping to reusable helper function","description":"File: src/utils/blog.ts, lines 25-27\n\nThe HTML escaping logic is inline:\n```typescript\nstr.replace(/[\u0026\u003c\u003e\"]/g, (c) =\u003e {\n  return { '\u0026': '\u0026amp;', '\u003c': '\u0026lt;', '\u003e': '\u0026gt;', '\\\"': '\u0026quot;' }[c] || c;\n})\n```\n\n**Suggestion:**\nExtract to a helper function like `escapeHtml(str: string): string` that can be reused for:\n1. The unknown language fallback (current use)\n2. Mermaid blocks (if escaping is added per ws-02s.1)\n3. Any future cases\n\nThis follows DRY principles and makes the code more maintainable.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-03T10:38:59.031048+01:00","updated_at":"2026-01-03T10:39:57.966811+01:00","closed_at":"2026-01-03T10:39:57.966811+01:00","close_reason":"Fixed: Extracted escapeHtml helper and used it in both mermaid and fallback code paths","dependencies":[{"issue_id":"ws-02s.3","depends_on_id":"ws-02s","type":"parent-child","created_at":"2026-01-03T10:38:59.031845+01:00","created_by":"jgordijn"}]}
{"id":"ws-07p","title":"Create MermaidDiagram component","description":"Create src/components/MermaidDiagram.tsx that:\n- Dynamically loads Mermaid v10 from CDN (cdn.jsdelivr.net)\n- Detects system theme via prefers-color-scheme media query\n- Initializes Mermaid with 'default' or 'dark' theme accordingly\n- Finds all .mermaid-diagram elements and renders them\n- Listens for theme changes and re-renders diagrams","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T10:30:00.1571+01:00","updated_at":"2026-01-03T10:44:12.527184+01:00","closed_at":"2026-01-03T10:44:12.527184+01:00","close_reason":"Created MermaidDiagram component with CDN loading, theme support, and security fixes","dependencies":[{"issue_id":"ws-07p","depends_on_id":"ws-k5p","type":"parent-child","created_at":"2026-01-03T10:31:04.102651+01:00","created_by":"daemon"},{"issue_id":"ws-07p","depends_on_id":"ws-02s","type":"blocks","created_at":"2026-01-03T10:31:08.629608+01:00","created_by":"daemon"}]}
{"id":"ws-07p.1","title":"Fix security: use strict securityLevel for Mermaid","description":"Line 34: securityLevel is set to \"loose\" which allows arbitrary HTML/JS in diagrams. Change to \"strict\" to prevent XSS attacks. File: src/components/MermaidDiagram.tsx","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-03T10:42:43.524883+01:00","updated_at":"2026-01-03T10:43:55.914755+01:00","closed_at":"2026-01-03T10:43:55.914755+01:00","close_reason":"Fixed: Changed securityLevel to strict","dependencies":[{"issue_id":"ws-07p.1","depends_on_id":"ws-07p","type":"parent-child","created_at":"2026-01-03T10:42:43.525681+01:00","created_by":"jgordijn"}]}
{"id":"ws-07p.2","title":"Store original mermaid code before rendering","description":"Lines 41,46: Original diagram code is destroyed when innerHTML is set to SVG. This breaks theme change re-rendering. Store original code in data attribute before rendering. File: src/components/MermaidDiagram.tsx","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-03T10:42:46.33606+01:00","updated_at":"2026-01-03T10:43:56.144313+01:00","closed_at":"2026-01-03T10:43:56.144313+01:00","close_reason":"Fixed: Added diagramCodeMap to store original code","dependencies":[{"issue_id":"ws-07p.2","depends_on_id":"ws-07p","type":"parent-child","created_at":"2026-01-03T10:42:46.3368+01:00","created_by":"jgordijn"}]}
{"id":"ws-07p.3","title":"Add React import for consistency","description":"Line 1: Uses useEffect/useRef but does not import React. Other components in this project import React explicitly (see Layout.tsx). Add \"import React from 'react';\" for consistency. File: src/components/MermaidDiagram.tsx","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T10:42:49.045641+01:00","updated_at":"2026-01-03T10:43:56.370867+01:00","closed_at":"2026-01-03T10:43:56.370867+01:00","close_reason":"Fixed: Added React import","dependencies":[{"issue_id":"ws-07p.3","depends_on_id":"ws-07p","type":"parent-child","created_at":"2026-01-03T10:42:49.046356+01:00","created_by":"jgordijn"}]}
{"id":"ws-07p.4","title":"Add script error handling for CDN failure","description":"Lines 56-62: No onerror handler for script loading. If CDN fails, diagrams silently fail. Add script.onerror handler with user feedback. File: src/components/MermaidDiagram.tsx","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T10:42:51.614322+01:00","updated_at":"2026-01-03T10:43:56.599117+01:00","closed_at":"2026-01-03T10:43:56.599117+01:00","close_reason":"Fixed: Added script.onerror handler","dependencies":[{"issue_id":"ws-07p.4","depends_on_id":"ws-07p","type":"parent-child","created_at":"2026-01-03T10:42:51.61515+01:00","created_by":"jgordijn"}]}
{"id":"ws-07p.5","title":"Pin Mermaid CDN to specific version","description":"Line 57: Using mermaid@10 could get breaking changes on minor updates. Pin to specific version like mermaid@10.9.0. File: src/components/MermaidDiagram.tsx","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T10:42:53.857092+01:00","updated_at":"2026-01-03T10:43:56.824827+01:00","closed_at":"2026-01-03T10:43:56.824827+01:00","close_reason":"Fixed: Pinned to mermaid@10.9.3","dependencies":[{"issue_id":"ws-07p.5","depends_on_id":"ws-07p","type":"parent-child","created_at":"2026-01-03T10:42:53.857895+01:00","created_by":"jgordijn"}]}
{"id":"ws-07p.6","title":"Consider adding loading state for diagrams","description":"Users see raw mermaid code until script loads. Consider adding CSS to hide .mermaid-diagram content or show loading indicator until .mermaid-rendered class is added. File: src/components/MermaidDiagram.tsx","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-03T10:42:56.419831+01:00","updated_at":"2026-01-03T10:43:57.047587+01:00","closed_at":"2026-01-03T10:43:57.047587+01:00","close_reason":"Deferred: CSS loading state will be handled in ws-6gs","dependencies":[{"issue_id":"ws-07p.6","depends_on_id":"ws-07p","type":"parent-child","created_at":"2026-01-03T10:42:56.420671+01:00","created_by":"jgordijn"}]}
{"id":"ws-0ki","title":"heading-anchor-links","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T13:04:58.218382+01:00","updated_at":"2025-12-23T13:09:44.2053+01:00","closed_at":"2025-12-23T13:09:44.2053+01:00","close_reason":"Closed"}
{"id":"ws-15e","title":"Add cover image to RSS feed enclosure","description":"Update the RSS generation script to include the cover image from blog frontmatter as an \u003cenclosure\u003e element in RSS items.\n\nRequirements:\n1. In getBlogPosts(): Extract the cover field from frontmatter (data.cover || null)\n2. In generateRss(): Add \u003cenclosure\u003e tag when post has a cover image\n3. Detect MIME type from file extension (.png ‚Üí image/png, .jpg/.jpeg ‚Üí image/jpeg, .webp ‚Üí image/webp, .gif ‚Üí image/gif)\n4. Read actual file size from public/ directory using fs.statSync()\n5. Skip enclosure if file does not exist (graceful fallback)\n6. Enclosure format: \u003cenclosure url=\"https://...\" type=\"image/png\" length=\"12345\" /\u003e\n\nFile to modify: scripts/generate-static-assets.js","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T21:35:40.57292+01:00","updated_at":"2026-01-04T21:39:08.800478+01:00","closed_at":"2026-01-04T21:39:08.800478+01:00","close_reason":"Implemented and verified: RSS feed now includes enclosure tags with cover images"}
{"id":"ws-15e.1","title":"scripts/generate-static-assets.js: getEnclosure builds URL from BASE_URL without ensuring leading slash; may produce invalid enclosure URL","description":"File: scripts/generate-static-assets.js (getEnclosure, around line ~104). getEnclosure() concatenates . If coverPath is  (no leading slash), the enclosure URL becomes , breaking RSS enclosures. Also path.join(PUBLIC_DIR, coverPath) will ignore PUBLIC_DIR if coverPath starts with . Fix by normalizing: ensure coverPath has exactly one leading slash for URL, and use path.join(PUBLIC_DIR, coverPath.replace(/^\\//,'')) for local path. Add small unit-like check or at least a guard in code.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T21:37:37.459018+01:00","updated_at":"2026-01-04T21:38:54.382321+01:00","closed_at":"2026-01-04T21:38:54.382321+01:00","close_reason":"Fixed: normalized path handling for URL and local filesystem","dependencies":[{"issue_id":"ws-15e.1","depends_on_id":"ws-15e","type":"parent-child","created_at":"2026-01-04T21:37:37.459837+01:00","created_by":"jgordijn"}]}
{"id":"ws-15e.2","title":"scripts/generate-static-assets.js: getEnclosure uses fs.statSync in RSS generation; avoid sync I/O per post or cache results","description":"File: scripts/generate-static-assets.js (getEnclosure/generateRss). For each post with a cover, we call fs.existsSync + fs.statSync. For many posts this can slow builds; it's acceptable for small blogs but still easy to improve by using fs.statSync only once in try/catch, or precomputing a map of coverPath-\u003esize before mapping posts. If staying sync, at least replace existsSync+statSync with single statSync wrapped in try/catch to reduce TOCTOU and duplicate filesystem calls.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T21:37:37.625112+01:00","updated_at":"2026-01-04T21:39:03.047954+01:00","closed_at":"2026-01-04T21:39:03.047954+01:00","close_reason":"Accepted: sync I/O is acceptable for a build-time script with a small number of posts"}
{"id":"ws-15e.3","title":"scripts/generate-static-assets.js: getMimeType includes .svg support; verify RSS clients accept SVG enclosures","description":"File: scripts/generate-static-assets.js (getMimeType). Requirement lists png/jpg/jpeg/webp/gif only, but code adds svg. SVG enclosures may be rejected by some readers or ignored, and could be a security vector in some contexts. Consider either removing svg support or ensuring covers won't be svg. If kept, document rationale and validate with your target RSS readers.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T21:37:37.625222+01:00","updated_at":"2026-01-04T21:38:54.823535+01:00","closed_at":"2026-01-04T21:38:54.823535+01:00","close_reason":"Fixed: removed SVG support as it was not in requirements","dependencies":[{"issue_id":"ws-15e.3","depends_on_id":"ws-15e","type":"parent-child","created_at":"2026-01-04T21:37:37.626534+01:00","created_by":"jgordijn"}]}
{"id":"ws-15e.4","title":"scripts/generate-static-assets.js: getEnclosure does not XML-escape URL/type attributes","description":"File: scripts/generate-static-assets.js (getEnclosure). The enclosure tag is built with string interpolation into XML attributes without escaping. If BASE_URL or coverPath ever contains \u0026 or quotes, RSS becomes invalid XML (and can become injection if coverPath is untrusted). Fix: apply escapeXml() to attribute values (url/type/length) or add dedicated XML attribute escaping and sanitize coverPath.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T21:37:42.154355+01:00","updated_at":"2026-01-04T21:38:54.603091+01:00","closed_at":"2026-01-04T21:38:54.603091+01:00","close_reason":"Fixed: URL is now XML-escaped using escapeXml()","dependencies":[{"issue_id":"ws-15e.4","depends_on_id":"ws-15e","type":"parent-child","created_at":"2026-01-04T21:37:42.155217+01:00","created_by":"jgordijn"}]}
{"id":"ws-15e.5","title":"bead tooling: parallel bd create hit sqlite DB locked; retry sequential or add locking","description":"During review I attempted parallel  calls and hit , plus a parent-child dependency warning for ws-15e.2. This can leave subtasks without proper dependency linkage. Fix by re-running  (or re-create) sequentially, or avoid parallel bd invocations.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T21:37:46.790045+01:00","updated_at":"2026-01-04T21:39:03.262435+01:00","closed_at":"2026-01-04T21:39:03.262435+01:00","close_reason":"Out of scope: this is about the bd tooling, not this implementation","dependencies":[{"issue_id":"ws-15e.5","depends_on_id":"ws-15e","type":"parent-child","created_at":"2026-01-04T21:37:46.790862+01:00","created_by":"jgordijn"}]}
{"id":"ws-2pe","title":"Create unified test runner script","description":"Create a single test runner that executes all validation tests:\n\nScript: scripts/validate-deployment.sh\n\nUsage:\n  ./scripts/validate-deployment.sh local    # Test against localhost:3000\n  ./scripts/validate-deployment.sh test     # Test against www.softwaremaniac.nl (requires auth)\n  ./scripts/validate-deployment.sh prod     # Test against inspired-it.nl\n\nFeatures:\n- Run all tests in sequence\n- Collect and report results\n- Exit with appropriate code (0=pass, 1=fail)\n- Color-coded output for pass/fail\n- Summary at end showing which tests passed/failed\n\nTests to run:\n1. Draft exclusion from blog overview\n2. Draft exclusion from sitemap\n3. Draft exclusion from RSS\n4. Sitemap URL validation\n5. RSS URL validation\n\nOutput example:\n  Validating deployment: test (https://www.softwaremaniac.nl)\n  ‚úì Drafts excluded from blog overview\n  ‚úì Drafts excluded from sitemap\n  ‚úì Drafts excluded from RSS\n  ‚úì Sitemap URLs correct\n  ‚úì RSS URLs correct\n  \n  All 5 tests passed!","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T19:15:42.855464+01:00","updated_at":"2025-12-19T19:15:42.855464+01:00","dependencies":[{"issue_id":"ws-2pe","depends_on_id":"ws-xoj","type":"blocks","created_at":"2025-12-19T19:15:54.292279+01:00","created_by":"daemon","metadata":"{}"},{"issue_id":"ws-2pe","depends_on_id":"ws-ah1","type":"blocks","created_at":"2025-12-19T19:15:54.388272+01:00","created_by":"daemon","metadata":"{}"},{"issue_id":"ws-2pe","depends_on_id":"ws-awk","type":"blocks","created_at":"2025-12-19T19:15:54.480641+01:00","created_by":"daemon","metadata":"{}"},{"issue_id":"ws-2pe","depends_on_id":"ws-9ap","type":"blocks","created_at":"2025-12-19T19:15:54.571958+01:00","created_by":"daemon","metadata":"{}"},{"issue_id":"ws-2pe","depends_on_id":"ws-bj7","type":"blocks","created_at":"2025-12-19T19:15:54.669718+01:00","created_by":"daemon","metadata":"{}"},{"issue_id":"ws-2pe","depends_on_id":"ws-c0v","type":"blocks","created_at":"2025-12-19T19:15:54.766825+01:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ws-2vm","title":"Integrate Mermaid in blog post page","description":"Update src/pages/blog/[slug].tsx to:\n- Detect if post HTML contains mermaid diagrams (check for mermaid-diagram class)\n- Pass hasMermaid flag from getStaticProps\n- Conditionally render MermaidDiagram component only on pages with diagrams","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T10:30:02.547991+01:00","updated_at":"2026-01-03T10:46:36.417448+01:00","closed_at":"2026-01-03T10:46:36.417448+01:00","close_reason":"Integrated MermaidDiagram component in blog post page with conditional loading","dependencies":[{"issue_id":"ws-2vm","depends_on_id":"ws-k5p","type":"parent-child","created_at":"2026-01-03T10:31:04.27495+01:00","created_by":"daemon"},{"issue_id":"ws-2vm","depends_on_id":"ws-07p","type":"blocks","created_at":"2026-01-03T10:31:08.806534+01:00","created_by":"daemon"}]}
{"id":"ws-2x7","title":"Markdown conversion implemented 3 times","description":"Three different implementations: blog.ts (markdown-it+plugins), markdown-converter/index.tsx (regex-based), generate-static-assets.js (basic markdown-it).","status":"open","priority":2,"issue_type":"chore","created_at":"2025-12-19T18:08:25.089566+01:00","updated_at":"2025-12-19T18:08:25.089566+01:00","labels":["tech-debt"]}
{"id":"ws-3l3","title":"hasMermaidDiagrams detection via string includes is brittle","description":"src/utils/blog.ts:257-259 uses html.includes('class=\"mermaid-diagram\"'). This can miss if additional classes/quote styles change and can false-positive. Fix: add a data attribute in highlight output, or use a regex for \u003cpre[^\u003e]*\\bmermaid-diagram\\b, or track mermaid presence during markdown render.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-03T10:55:06.187971+01:00","updated_at":"2026-01-03T10:55:06.187971+01:00"}
{"id":"ws-43l","title":"Create test script infrastructure","description":"Set up the test script infrastructure:\n- Create scripts/test-deployment.sh or similar\n- Accept environment parameter (local|test|prod)\n- For test environment: read credentials from .env or secure location\n- Use curl with -u flag for HTTP Basic Auth on softwaremaniac\n- Return exit codes for CI integration\n\nCredentials discovery:\n- Check rclone config for existing credentials\n- Or create .env.test file (gitignored) for test credentials\n- Pattern: TEST_USER and TEST_PASS environment variables","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T19:14:54.484456+01:00","updated_at":"2025-12-19T19:14:54.484456+01:00"}
{"id":"ws-4n0","title":"Unhandled clipboard promise in markdown-converter","description":"markdown-converter/index.tsx:115-120 - navigator.clipboard.writeText() has no .catch() handler. Shows 'Copied' even if access fails.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-19T18:08:28.057037+01:00","updated_at":"2025-12-19T18:08:28.057037+01:00","labels":["error-handling"]}
{"id":"ws-5hk","title":"Mermaid error message is CSS pseudo-element; not accessible to screen readers","description":"src/styles/globals.css:223-229 displays error text via .mermaid-error::before content. Pseudo-element text is often not announced by screen readers, and there‚Äôs no aria-live. Fix: set real text content for errors in JS (container.textContent = 'Failed‚Ä¶') and add role=alert/aria-live; optionally show collapsible source.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T10:55:06.195939+01:00","updated_at":"2026-01-03T11:05:45.584956+01:00","closed_at":"2026-01-03T11:05:45.584956+01:00","close_reason":"Fixed: Error messages now use role=alert and real text content"}
{"id":"ws-5kv","title":"Create ThemeToggle component","description":"Create the theme selector dropdown component:\n\nFile: src/components/ThemeToggle.tsx\n\nUI (matching screenshot):\n- Dropdown button with current theme icon\n- Three options:\n  - ‚òÄÔ∏è Light theme\n  - üåô Dark theme  \n  - üñ•Ô∏è Device default\n\nBehavior:\n- Click button to open dropdown\n- Click option to select and close\n- Click outside to close\n- Keyboard: Escape to close, arrow keys to navigate\n- Current selection shown with checkmark or highlight\n\nAccessibility:\n- aria-expanded on button\n- aria-haspopup='menu'\n- role='menu' on dropdown\n- role='menuitem' on options\n- Focus management\n\nStyling:\n- Position in header/navbar\n- Dark mode aware (dropdown should look good in both modes)\n- Smooth transitions","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-19T19:22:37.881326+01:00","updated_at":"2025-12-19T19:22:37.881326+01:00","dependencies":[{"issue_id":"ws-5kv","depends_on_id":"ws-p9f","type":"blocks","created_at":"2025-12-19T19:29:23.419851+01:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ws-6cx","title":"Hardcoded URLs duplicated across codebase","description":"LinkedIn URL appears 8 times, GitHub URL 2 times across 5+ files. Should be centralized in config.","status":"open","priority":2,"issue_type":"chore","created_at":"2025-12-19T18:08:22.53998+01:00","updated_at":"2025-12-19T18:08:22.53998+01:00","labels":["tech-debt"]}
{"id":"ws-6gs","title":"Add styling for Mermaid containers","description":"Add CSS to src/styles/globals.css for:\n- .mermaid-diagram container styling (centered, responsive)\n- Loading state placeholder before Mermaid renders\n- Dark mode adjustments via prefers-color-scheme media query\n- Ensure diagrams are mobile-responsive with overflow handling","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-03T10:30:05.675475+01:00","updated_at":"2026-01-03T10:50:52.007523+01:00","closed_at":"2026-01-03T10:50:52.007523+01:00","close_reason":"Added CSS styling for Mermaid diagram containers with loading state and dark mode support","dependencies":[{"issue_id":"ws-6gs","depends_on_id":"ws-k5p","type":"parent-child","created_at":"2026-01-03T10:31:04.453816+01:00","created_by":"daemon"},{"issue_id":"ws-6gs","depends_on_id":"ws-2vm","type":"blocks","created_at":"2026-01-03T10:31:08.9708+01:00","created_by":"daemon"}]}
{"id":"ws-6gs.1","title":"Fix dark mode: use Tailwind class-based dark mode instead of media query","description":"The Mermaid CSS uses @media (prefers-color-scheme: dark) but the codebase is planned to use Tailwind's class-based dark mode (darkMode: 'class' with dark: prefix).\n\n**Why it matters**: When the theme toggle is implemented (beads ws-f5n, ws-p9f, ws-ww1), Mermaid diagrams won't respect the user's theme choice - they'll only follow system preference.\n\n**How to fix**:\n1. Replace media query dark styles with Tailwind dark: variants:\n\n```css\n.mermaid-diagram:not(.mermaid-rendered):not(.mermaid-error) {\n  @apply bg-gray-100 dark:bg-gray-700 rounded-lg animate-pulse;\n}\n\n.mermaid-diagram.mermaid-error {\n  @apply bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm p-4 rounded-lg;\n}\n```\n\n2. Delete the entire @media (prefers-color-scheme: dark) block (lines 232-239)\n\n**File**: src/styles/globals.css","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T10:49:57.106017+01:00","updated_at":"2026-01-03T10:50:32.689076+01:00","closed_at":"2026-01-03T10:50:32.689076+01:00","close_reason":"By design: Media query matches MermaidDiagram component approach. Site has no dark mode toggle yet (ws-k0i). Will update when theme toggle is implemented.","dependencies":[{"issue_id":"ws-6gs.1","depends_on_id":"ws-6gs","type":"parent-child","created_at":"2026-01-03T10:49:57.106965+01:00","created_by":"jgordijn"}]}
{"id":"ws-6gs.2","title":"Add newline at end of globals.css","description":"The file doesn't end with a newline (common convention for text files).\n\n**File**: src/styles/globals.css\n**Line**: 240 (last line)\n\n**Fix**: Add a newline character after the closing `}` of the media query block.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-03T10:50:02.169752+01:00","updated_at":"2026-01-03T10:50:32.904136+01:00","closed_at":"2026-01-03T10:50:32.904136+01:00","close_reason":"Fixed: Added newline at end of file","dependencies":[{"issue_id":"ws-6gs.2","depends_on_id":"ws-6gs","type":"parent-child","created_at":"2026-01-03T10:50:02.170515+01:00","created_by":"jgordijn"}]}
{"id":"ws-889","title":"MermaidDiagram: Non-unique ID generation may collide on rapid rerenders","description":"src/components/MermaidDiagram.tsx:57 uses Date.now() + index for Mermaid render IDs. Theme toggles or multiple instances can collide within the same millisecond, producing incorrect rendering or defs reuse. Fix: use crypto.randomUUID() (fallback to incrementing counter).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T10:55:06.187691+01:00","updated_at":"2026-01-03T11:05:45.118174+01:00","closed_at":"2026-01-03T11:05:45.118174+01:00","close_reason":"Fixed: Using incrementing counter for unique IDs"}
{"id":"ws-8f9","title":"MermaidDiagram: Memory leak risk from Map keyed by HTMLElements","description":"src/components/MermaidDiagram.tsx:12-53 uses a module-level Map\u003cHTMLElement, string\u003e to store diagram source. Detached DOM nodes can remain strongly referenced across client-side navigations, preventing GC. Fix: use WeakMap\u003cHTMLElement, string\u003e or clear entries on cleanup.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T10:55:06.195849+01:00","updated_at":"2026-01-03T11:05:45.355904+01:00","closed_at":"2026-01-03T11:05:45.355904+01:00","close_reason":"Fixed: Using WeakMap instead of Map"}
{"id":"ws-9ap","title":"Test: Sitemap URLs match deployment environment","description":"Verify sitemap.xml URLs use the correct BASE_URL for each environment:\n\nExpected URLs per environment:\n- localhost: http://localhost:3000\n- test: https://www.softwaremaniac.nl\n- prod: https://inspired-it.nl\n\nTest approach:\n1. Fetch /sitemap.xml\n2. Extract all \u003cloc\u003e URLs\n3. Verify ALL URLs start with the expected base URL\n4. Verify NO URLs contain wrong environment URLs (e.g., no inspired-it URLs on softwaremaniac)\n\nImplementation:\n- Accept environment parameter\n- Map environment to expected BASE_URL\n- Fetch sitemap, count URLs matching expected base\n- Count URLs NOT matching (should be 0)\n- Report mismatched URLs if found","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T19:15:30.893737+01:00","updated_at":"2025-12-19T19:15:30.893737+01:00","dependencies":[{"issue_id":"ws-9ap","depends_on_id":"ws-43l","type":"blocks","created_at":"2025-12-19T19:15:54.105698+01:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ws-a3b","title":"Sitemap/RSS URLs are broken - date prefix not stripped","description":"generate-static-assets.js:25 keeps date prefix in slug but blog.ts:156 strips it. All sitemap/RSS blog URLs return 404.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-19T18:07:32.346311+01:00","updated_at":"2025-12-19T18:10:52.778741+01:00","closed_at":"2025-12-19T18:10:52.778741+01:00","close_reason":"Fixed: slug now strips date prefix to match blog.ts","labels":["critical","seo"]}
{"id":"ws-a53","title":"Testing Epic: Blog, Sitemap \u0026 RSS Validation","description":"Comprehensive test suite to validate:\n1. Draft posts are excluded from blog overview, sitemap, and RSS feed\n2. URLs in sitemap and RSS match the deployment environment (localhost/softwaremaniac/inspired-it)\n3. Authentication handling for password-protected test environment\n\nThis ensures content integrity and correct SEO across all deployment targets.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-19T19:14:46.142383+01:00","updated_at":"2025-12-19T19:14:46.142383+01:00"}
{"id":"ws-ah1","title":"Test: Drafts excluded from sitemap.xml","description":"Verify draft posts are not listed in sitemap.xml:\n\nTest approach:\n1. Fetch /sitemap.xml\n2. Parse XML and extract all \u003cloc\u003e URLs\n3. Verify none of the URLs contain draft post slugs\n4. Cross-reference with content/blog/*.md files that have publish_status: draft\n\nImplementation:\n- Use curl to fetch /sitemap.xml\n- Use grep to find all blog URLs\n- Compare against known draft slugs (mission-control, etc.)\n- Exit 1 if any draft found","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T19:15:08.896186+01:00","updated_at":"2025-12-19T19:15:08.896186+01:00","dependencies":[{"issue_id":"ws-ah1","depends_on_id":"ws-43l","type":"blocks","created_at":"2025-12-19T19:15:53.918371+01:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ws-awk","title":"Test: Drafts excluded from RSS feed","description":"Verify draft posts are not listed in rss.xml:\n\nTest approach:\n1. Fetch /rss.xml\n2. Parse XML and extract all \u003clink\u003e and \u003cguid\u003e URLs\n3. Verify none contain draft post slugs\n4. Cross-reference with content/blog/*.md files that have publish_status: draft\n\nImplementation:\n- Use curl to fetch /rss.xml\n- Use grep to extract \u003clink\u003e elements\n- Compare against known draft slugs\n- Exit 1 if any draft found","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T19:15:09.193161+01:00","updated_at":"2025-12-19T19:15:09.193161+01:00","dependencies":[{"issue_id":"ws-awk","depends_on_id":"ws-43l","type":"blocks","created_at":"2025-12-19T19:15:54.010643+01:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ws-bj7","title":"Test: RSS feed URLs match deployment environment","description":"Verify rss.xml URLs use the correct BASE_URL for each environment:\n\nExpected URLs per environment:\n- localhost: http://localhost:3000\n- test: https://www.softwaremaniac.nl  \n- prod: https://inspired-it.nl\n\nTest approach:\n1. Fetch /rss.xml\n2. Extract all absolute URLs (\u003clink\u003e, \u003cguid\u003e, atom:link href)\n3. Verify ALL URLs start with the expected base URL\n4. Verify NO URLs contain wrong environment URLs\n\nImplementation:\n- Accept environment parameter\n- Map environment to expected BASE_URL\n- Fetch RSS, extract all absolute URLs\n- Validate each against expected base\n- Report mismatched URLs if found","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T19:15:31.124246+01:00","updated_at":"2025-12-19T19:15:31.124246+01:00","dependencies":[{"issue_id":"ws-bj7","depends_on_id":"ws-43l","type":"blocks","created_at":"2025-12-19T19:15:54.198115+01:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ws-c0v","title":"Implement HTTP Basic Auth for test environment","description":"Handle authentication for the password-protected test environment (www.softwaremaniac.nl):\n\nDiscovery:\n- Site uses HTTP Basic Auth (WWW-Authenticate: Basic realm)\n\nImplementation options (in order of preference):\n1. **1Password CLI** (recommended - already on machine)\n   - Use `op read` to fetch credentials at runtime\n   - Example: `op read 'op://Vault/Softwaremaniac/username'`\n   - No credentials stored in files or env vars\n   - Requires 1Password CLI setup and sign-in\n\n2. Read from environment variables (TEST_AUTH_USER, TEST_AUTH_PASS)\n\n3. Read from .env.test file (must be gitignored)\n\n4. Use curl --netrc with ~/.netrc file\n\nSecurity requirements:\n- NEVER commit credentials to git\n- Prefer 1Password CLI for zero-credential-on-disk approach\n\n1Password CLI setup:\n- Install: brew install 1password-cli\n- Sign in: op signin\n- Test: op read 'op://VaultName/ItemName/field'\n\nScript usage with 1Password:\n```bash\nUSER=$(op read 'op://Vault/Softwaremaniac/username')\nPASS=$(op read 'op://Vault/Softwaremaniac/password')  \ncurl -u \"$USER:$PASS\" https://www.softwaremaniac.nl/\n```","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T19:15:31.353902+01:00","updated_at":"2025-12-19T19:22:18.346026+01:00","dependencies":[{"issue_id":"ws-c0v","depends_on_id":"ws-43l","type":"blocks","created_at":"2025-12-19T19:15:53.726853+01:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ws-csi","title":"Zero ARIA/accessibility attributes in codebase","description":"No role= or aria- attributes anywhere. Form inputs lack labels, interactive elements lack accessible names.","status":"open","priority":3,"issue_type":"chore","created_at":"2025-12-19T18:08:37.281498+01:00","updated_at":"2025-12-19T18:08:37.281498+01:00","labels":["accessibility"]}
{"id":"ws-f3h","title":"Add FOUC prevention script","description":"Prevent Flash of Unstyled Content (wrong theme flash) on page load:\n\nAdd inline script to _document.tsx that runs before React hydrates:\n\n```tsx\n\u003cHead\u003e\n  \u003cscript dangerouslySetInnerHTML={{\n    __html: `\n      (function() {\n        const theme = localStorage.getItem('theme');\n        const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n        \n        if (theme === 'dark' || (theme === 'system' \u0026\u0026 systemDark) || (!theme \u0026\u0026 systemDark)) {\n          document.documentElement.classList.add('dark');\n        }\n      })();\n    `\n  }} /\u003e\n\u003c/Head\u003e\n```\n\nThis must be:\n- Inline (not external file)\n- In \u003chead\u003e (runs before body renders)\n- Synchronous (no async/defer)\n\nThe script applies dark class immediately based on:\n1. Explicit user preference in localStorage\n2. System preference if 'system' selected or no preference saved","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-19T19:22:53.541831+01:00","updated_at":"2025-12-19T19:22:53.541831+01:00","dependencies":[{"issue_id":"ws-f3h","depends_on_id":"ws-p9f","type":"blocks","created_at":"2025-12-19T19:29:23.862987+01:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ws-f5n","title":"Configure Tailwind for dark mode","description":"Enable dark mode in Tailwind configuration:\n\nChanges to tailwind.config.ts:\n```typescript\nexport default {\n  darkMode: 'class',  // Add this line\n  content: [...],\n  theme: {\n    extend: {\n      // Add dark mode typography variants\n      typography: (theme) =\u003e ({\n        DEFAULT: { ... },\n        dark: {\n          css: {\n            color: theme('colors.gray.300'),\n            a: { color: theme('colors.blue.400') },\n            h1: { color: theme('colors.gray.100') },\n            h2: { color: theme('colors.gray.100') },\n            h3: { color: theme('colors.gray.100') },\n            code: {\n              color: theme('colors.red.400'),\n              backgroundColor: theme('colors.gray.800'),\n            },\n            pre: {\n              backgroundColor: theme('colors.gray.800'),\n            },\n          },\n        },\n      }),\n    },\n  },\n}\n```\n\nThis enables the `dark:` prefix for all utilities.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-19T19:22:37.405548+01:00","updated_at":"2025-12-19T19:22:37.405548+01:00"}
{"id":"ws-f92","title":"MermaidDiagram: Multiple instances can inject duplicate scripts and listeners","description":"src/components/MermaidDiagram.tsx:22-106 uses a component-local loadedRef. If multiple MermaidDiagram components mount (future reuse) each will load the CDN script and register matchMedia listeners, and can race rendering. Fix: use a module-level singleton (shared promise) that loads Mermaid once and registers one theme listener; make render idempotent.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T10:55:06.088138+01:00","updated_at":"2026-01-03T11:05:37.404444+01:00","closed_at":"2026-01-03T11:05:37.404444+01:00","close_reason":"Fixed: Converted to module-level singleton pattern"}
{"id":"ws-fks","title":"MermaidDiagram: CDN script loaded without SRI / explicit integrity pinning","description":"src/components/MermaidDiagram.tsx:72-90 injects a \u003cscript\u003e with src=https://cdn.jsdelivr.net/npm/mermaid@10.9.3/dist/mermaid.min.js and no integrity/crossorigin. This relies entirely on CDN trust; if CDN or route is compromised, arbitrary JS executes on blog pages containing diagrams. Fix: add Subresource Integrity (integrity + crossorigin=anonymous) for pinned version or self-host mermaid under public/ and serve with strong caching. Consider enforcing CSP that requires SRI for third-party scripts.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-03T10:55:05.998835+01:00","updated_at":"2026-01-03T11:05:36.87366+01:00","closed_at":"2026-01-03T11:05:36.87366+01:00","close_reason":"Fixed: Self-hosted Mermaid bundle in public/ - no CDN trust required"}
{"id":"ws-gce","title":"Blog post page uses any for post/relatedPosts props","description":"src/pages/blog/[slug].tsx:42-50 types post as any and relatedPosts as any[]. This weakens TS safety and can hide runtime issues (e.g., post.html missing). Fix: import BlogPost from src/utils/blog and type props accordingly.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-03T10:55:06.195735+01:00","updated_at":"2026-01-03T10:55:06.195735+01:00"}
{"id":"ws-ipw","title":"XSS vulnerability with dangerouslySetInnerHTML","description":"Two locations use dangerouslySetInnerHTML without sanitization: src/pages/blog/[slug].tsx:91 and src/pages/admin/markdown-converter/index.tsx:177","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-19T18:07:56.387184+01:00","updated_at":"2025-12-19T18:07:56.387184+01:00","labels":["security"]}
{"id":"ws-k0i","title":"Dark Mode Support","description":"Add dark mode support to the website with three theme options:\n1. Light theme (sun icon)\n2. Dark theme (moon icon)\n3. Device default / System (monitor icon) - follows OS preference\n\nStandard implementation approach:\n- Tailwind: Enable `darkMode: 'class'` in tailwind.config.ts\n- Toggle `dark` class on \u003chtml\u003e element\n- Use `dark:` prefix for dark variants (e.g., `bg-white dark:bg-gray-900`)\n- Persist choice in localStorage\n- Detect system preference via `prefers-color-scheme` media query\n- Listen for system preference changes when 'system' is selected\n\nUI Component: Theme selector dropdown (like the screenshot example)\n- Three options with icons\n- Accessible keyboard navigation\n- Visual indicator of current selection\n\nReference examples:\n- Tailwind docs: https://tailwindcss.com/docs/dark-mode\n- Next.js themes: next-themes library (handles SSR hydration issues)","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-19T19:21:07.112045+01:00","updated_at":"2025-12-19T19:21:07.112045+01:00"}
{"id":"ws-k5p","title":"Mermaid Diagram Support","description":"Add client-side Mermaid rendering to blog posts with automatic light/dark theme detection. Uses CDN lazy loading to avoid bundle bloat - Mermaid JS only loads on pages containing diagrams.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-03T10:29:51.213438+01:00","updated_at":"2026-01-03T10:52:53.674537+01:00","closed_at":"2026-01-03T10:52:53.674537+01:00","close_reason":"Mermaid diagram support fully implemented with CDN lazy loading and light/dark theme support"}
{"id":"ws-mqg","title":"Blog mobile: hide search/tags in hamburger menu","description":"On mobile, the blog search and tags section takes up too much vertical space at the top of the page, requiring users to scroll past it to see actual blog posts. Solution: hide search/tags in a collapsible hamburger menu on small screens.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T21:17:23.430083+01:00","updated_at":"2025-12-19T21:43:59.6566+01:00","closed_at":"2025-12-19T21:43:59.6566+01:00","close_reason":"Implemented collapsible search/filter panel and hamburger menu for mobile"}
{"id":"ws-onu","title":"Markdown rendering allows raw HTML; Mermaid escaping doesn‚Äôt change site XSS posture","description":"src/utils/blog.ts:7-10 sets MarkdownIt html:true, so raw HTML in markdown is rendered unsanitized. Mermaid code blocks are escaped, but other content can still inject HTML/JS (e.g., \u003cimg onerror\u003e). Fix: if raw HTML isn‚Äôt required, set html:false; otherwise sanitize rendered HTML (DOMPurify) or clearly document the trust boundary so security expectations aren‚Äôt misleading.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-03T10:55:06.140235+01:00","updated_at":"2026-01-03T10:55:06.140235+01:00"}
{"id":"ws-p9f","title":"Create ThemeProvider context","description":"Create a React context to manage theme state:\n\nFile: src/contexts/ThemeContext.tsx\n\nFeatures:\n- Three theme options: 'light' | 'dark' | 'system'\n- Persist selection in localStorage (key: 'theme')\n- On mount: read localStorage or default to 'system'\n- When 'system': listen to `matchMedia('(prefers-color-scheme: dark)')`\n- Apply/remove 'dark' class on document.documentElement\n\nPrevent flash of wrong theme (FOUC):\n- Add inline script in _document.tsx to set class before React hydrates\n- Script checks localStorage and system preference immediately\n\nInterface:\n```typescript\ninterface ThemeContextType {\n  theme: 'light' | 'dark' | 'system';\n  resolvedTheme: 'light' | 'dark';  // actual applied theme\n  setTheme: (theme: 'light' | 'dark' | 'system') =\u003e void;\n}\n```\n\nAlternative: Use next-themes library which handles all this + SSR edge cases.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-19T19:22:37.644254+01:00","updated_at":"2025-12-19T19:22:37.644254+01:00","dependencies":[{"issue_id":"ws-p9f","depends_on_id":"ws-f5n","type":"blocks","created_at":"2025-12-19T19:29:23.323216+01:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ws-per","title":"MermaidDiagram: Potential XSS via innerHTML assignment of Mermaid SVG output","description":"src/components/MermaidDiagram.tsx:59-63 sets container.innerHTML = svg. Even with mermaid securityLevel=strict, this is a raw HTML sink; a Mermaid bug/regression or config change can turn this into XSS. Fix: sanitize SVG before insertion (e.g., DOMPurify with SVG profile/allowlist), or parse with DOMParser and copy only safe nodes/attributes. Keep securityLevel strict and add a regression guard/test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-03T10:55:06.112373+01:00","updated_at":"2026-01-03T11:05:37.18436+01:00","closed_at":"2026-01-03T11:05:37.18436+01:00","close_reason":"Fixed: SVG output sanitized with DOMPurify before DOM insertion"}
{"id":"ws-r8l","title":"Type assertion hides publish_status violation","description":"blog.ts:176 assigns null to publish_status but interface only allows 'draft'|'published'|undefined. The 'as BlogPost' assertion masks this.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-19T18:08:20.232933+01:00","updated_at":"2025-12-19T18:08:20.232933+01:00","labels":["typescript"]}
{"id":"ws-t38","title":"Missing Array.isArray check on tags","description":"blog.ts:170 - 'tags: data.tags || []' doesn't verify tags is actually an array. Malformed frontmatter could cause issues.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-19T18:08:30.397568+01:00","updated_at":"2025-12-19T18:08:30.397568+01:00","labels":["validation"]}
{"id":"ws-v8s","title":"Use of any types in blog/[slug].tsx","description":"Lines 42-43 use 'any' type for post and relatedPosts props. Should use BlogPost interface from @/utils/blog.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-19T18:08:17.049824+01:00","updated_at":"2025-12-19T18:08:17.049824+01:00","labels":["typescript"]}
{"id":"ws-w18","title":"Draft posts included in sitemap/RSS","description":"generate-static-assets.js doesn't filter draft posts like blog.ts does. Draft post 2025-12-17-mission-control.md is in sitemap/RSS.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-19T18:07:47.879924+01:00","updated_at":"2025-12-19T18:10:52.979718+01:00","closed_at":"2025-12-19T18:10:52.979718+01:00","close_reason":"Fixed: added filter to exclude draft posts","labels":["critical","seo"]}
{"id":"ws-ww1","title":"Add dark mode styles to Layout component","description":"Update Layout.tsx with dark mode variants:\n\nKey changes:\n- Background: `bg-white dark:bg-gray-900`\n- Text: `text-gray-900 dark:text-gray-100`\n- Header/nav styling\n- Footer styling\n- Link colors\n- Border colors\n\nAdd ThemeToggle to header navigation.\n\nPattern for all color utilities:\n```\nbg-white        ‚Üí bg-white dark:bg-gray-900\nbg-gray-50      ‚Üí bg-gray-50 dark:bg-gray-800\ntext-gray-900   ‚Üí text-gray-900 dark:text-gray-100\ntext-gray-600   ‚Üí text-gray-600 dark:text-gray-400\nborder-gray-200 ‚Üí border-gray-200 dark:border-gray-700\n```","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-19T19:22:53.079465+01:00","updated_at":"2025-12-19T19:22:53.079465+01:00","dependencies":[{"issue_id":"ws-ww1","depends_on_id":"ws-f5n","type":"blocks","created_at":"2025-12-19T19:29:23.508258+01:00","created_by":"daemon","metadata":"{}"},{"issue_id":"ws-ww1","depends_on_id":"ws-p9f","type":"blocks","created_at":"2025-12-19T19:29:23.60005+01:00","created_by":"daemon","metadata":"{}"},{"issue_id":"ws-ww1","depends_on_id":"ws-5kv","type":"blocks","created_at":"2025-12-19T19:29:23.686092+01:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ws-xoj","title":"Test: Drafts excluded from blog overview","description":"Verify draft posts do not appear in the blog listing page:\n\nTest approach:\n1. Ensure at least one draft post exists (publish_status: draft in frontmatter)\n2. Fetch /blog page\n3. Parse HTML and extract all blog post links\n4. Verify none of the links point to draft posts\n5. Cross-reference with content/blog/*.md files that have publish_status: draft\n\nCurrent draft: content/blog/2025-12-17-mission-control.md\n\nImplementation:\n- Use curl to fetch /blog\n- Use grep/sed to extract hrefs\n- Compare against known draft slugs\n- Exit 1 if any draft found","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T19:15:08.590729+01:00","updated_at":"2025-12-19T19:15:08.590729+01:00","dependencies":[{"issue_id":"ws-xoj","depends_on_id":"ws-43l","type":"blocks","created_at":"2025-12-19T19:15:53.82798+01:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ws-zfj","title":"Add dark mode styles to all pages","description":"Update all page components with dark mode variants:\n\nPages to update:\n- src/pages/index.tsx (home)\n- src/pages/blog/index.tsx (blog listing)\n- src/pages/blog/[slug].tsx (blog post)\n- src/pages/about.tsx\n- src/pages/contact.tsx\n- src/pages/admin/markdown-converter.tsx\n\nFor each page:\n- Update background colors\n- Update text colors\n- Update card/container backgrounds\n- Update borders\n- Update form inputs (if any)\n- Update buttons\n\nBlog-specific:\n- Code block styling (already dark, may need adjustment)\n- Syntax highlighting theme\n- prose/typography dark variant: `prose dark:prose-invert`","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-19T19:22:53.313336+01:00","updated_at":"2025-12-19T19:22:53.313336+01:00","dependencies":[{"issue_id":"ws-zfj","depends_on_id":"ws-ww1","type":"blocks","created_at":"2025-12-19T19:29:23.773691+01:00","created_by":"daemon","metadata":"{}"}]}
